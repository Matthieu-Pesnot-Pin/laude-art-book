(self.webpackChunk=self.webpackChunk||[]).push([[143],{6760:(e,t,n)=>{var r={"./counter_controller.js":8661,"./hello_controller.js":4695};function o(e){var t=i(e);return n(t)}function i(e){if(!n.o(r,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return r[e]}o.keys=function(){return Object.keys(r)},o.resolve=i,e.exports=o,o.id=6760},8205:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>r});const r={}},8661:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>p});n(2222),n(9070),n(8304),n(489),n(2419),n(8011),n(2526),n(1817),n(1539),n(2165),n(6992),n(8783),n(3948);function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function a(e,t){return a=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},a(e,t)}function c(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=l(e);if(t){var o=l(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return s(this,n)}}function s(e,t){if(t&&("object"===r(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return u(e)}function u(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function l(e){return l=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},l(e)}function f(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var p=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&a(e,t)}(l,e);var t,n,r,s=c(l);function l(){var e;o(this,l);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return f(u(e=s.call.apply(s,[this].concat(n))),"count",0),e}return t=l,(n=[{key:"increment",value:function(){this.count++,this.countTarget.innerHTML=this.count}}])&&i(t.prototype,n),r&&i(t,r),l}(n(7931).Controller);f(p,"targets",["count"])},4695:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>l});n(8304),n(489),n(2419),n(8011),n(9070),n(2526),n(1817),n(1539),n(2165),n(6992),n(8783),n(3948);function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function a(e,t){return a=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},a(e,t)}function c(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=u(e);if(t){var o=u(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return s(this,n)}}function s(e,t){if(t&&("object"===r(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function u(e){return u=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},u(e)}var l=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&a(e,t)}(u,e);var t,n,r,s=c(u);function u(){return o(this,u),s.apply(this,arguments)}return t=u,(n=[{key:"connect",value:function(){return this.element.textContent="Hello Stimulus! Edit me in assets/controllers/hello_controller.js",React.createElement("div",null,"What the fuck")}}])&&i(t.prototype,n),r&&i(t,r),u}(n(7931).Controller)},9486:(e,t,n)=>{"use strict";(0,n(2192).x)(n(6760));var r=n(7294),o=n(3935),i=(n(4812),n(9554),n(4747),n(7941),n(4553),n(561),n(1249),n(8304),n(489),n(2419),n(8011),n(9070),n(2526),n(7327),n(5003),n(9337),n(3321),n(9753),n(1817),n(1539),n(2165),n(6992),n(8783),n(3948),n(1038),n(7042),n(8309),n(9669)),a=n.n(i),c=n(39),s=n(3389),u=n(5647),l=n(5166);n(2564);function f(e){return f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},f(e)}function p(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function y(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?p(Object(n),!0).forEach((function(t){m(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):p(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function m(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function d(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function b(e,t){return b=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},b(e,t)}function h(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=O(e);if(t){var o=O(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return g(this,n)}}function g(e,t){if(t&&("object"===f(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return v(e)}function v(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function O(e){return O=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},O(e)}var w=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&b(e,t)}(a,e);var t,n,o,i=h(a);function a(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),(t=i.call(this,e)).state={dragHovered:!1,whiteColumn:{height:"100%",width:"100%"},infoDeplacement:{textAlign:"center",fontSize:"15px"},displayCutness:!0,displayGrayMask:!1},t.styleFromDragHover=t.styleFromDragHover.bind(v(t)),t.setDragHovered=t.setDragHovered.bind(v(t)),t}return t=a,(n=[{key:"styleFromDragHover",value:function(){return this.state.dragHovered?{transition:"top 0.2s",position:"relative",top:"100px",zIndex:0}:{transition:"top 0.2s",position:"relative",top:"0",zIndex:0}}},{key:"styleFromDragHoverWhiteColumn",value:function(){return y(y({},this.state.dragHovered?{background:"rgba(0,0,0,0.2)",height:"100%",width:"100%"}:{background:"rgba(0,0,0,0.0)",height:"100%",width:"100%"}),{},{display:"flex",minHeight:100,width:"100%",zIndex:10})}},{key:"setDragHovered",value:function(e){this.setState({dragHovered:e})}},{key:"mainCardStyle",value:function(){return{userSelect:"none"}}},{key:"styleFromHover",value:function(){return{display:"flex",alignItems:"flex-end",justifyContent:"left",fontSize:"1.5rem",position:"absolute",padding:"100px 40px",cursor:"pointer",zIndex:10,color:this.state.displayGrayMask?"rgba(50,50,50,1)":"rgba(10,10,10,0)",background:this.state.displayGrayMask?"rgba(255,255,255,0.8)":"rgba(255,255,255,0)",transition:"background 500ms, color 500ms",top:0,left:0,height:"100%",width:"100%"}}},{key:"render",value:function(){var e=this;return this.props.image.isEmpty?r.createElement("div",{style:y({},this.styleFromDragHoverWhiteColumn()),onDragEnter:function(t){e.setDragHovered(!0),t.stopPropagation(),t.preventDefault()},onDragLeave:function(t){e.setDragHovered(!1),t.stopPropagation(),t.preventDefault()},onDrop:function(t){e.setDragHovered(!1),e.props.moveImage(e.props.image)},onDragOver:function(e){e.stopPropagation(),e.preventDefault()}},r.createElement("div",{style:this.state.whiteColumn})):r.createElement("div",{className:"card shadow-sm mt-3",style:this.mainCardStyle(),onMouseEnter:function(){return e.setState({displayGrayMask:!0})},onMouseLeave:function(){return e.setState({displayGrayMask:!1})},onClick:function(){e.props.displayImage.bind(e,e.props.image)(),e.setState({displayGrayMask:!1})}},r.createElement("div",{style:{position:"absolute",top:"10px",left:0,zIndex:0,width:"100%",display:"flex",justifyContent:"center"}},r.createElement("img",{src:"assets/images/pitichat.png",alt:"pitichat"})),r.createElement("div",{style:this.styleFromDragHover()},r.createElement("img",{src:"uploads/"+this.props.image.imageFile,alt:this.props.image.name,width:"100%"})),r.createElement("div",{draggable:this.props.modeEdition,style:this.styleFromHover(),onDragEnter:function(t){e.setDragHovered(!0),e.setState({displayCutness:!1},(function(){return setTimeout((function(){e.setState({displayCutness:!0})}),200)})),t.stopPropagation(),t.preventDefault()},onDragLeave:function(t){e.setDragHovered(!1),t.stopPropagation(),t.preventDefault()},onDragOver:function(e){e.stopPropagation(),e.preventDefault()},onDrop:function(t){e.setDragHovered(!1),e.props.moveImage(e.props.image)},onDragStart:function(){return e.props.setDraggedPosition(e.props.image)}},this.props.image.name))}}])&&d(t.prototype,n),o&&d(t,o),a}(r.Component);w.defaultProps={displayImage:function(){}};var j=n(2666);function E(e){return E="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},E(e)}function P(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function D(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?P(Object(n),!0).forEach((function(t){S(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):P(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function S(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function k(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function I(e,t){return I=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},I(e,t)}function T(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=_(e);if(t){var o=_(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return C(this,n)}}function C(e,t){if(t&&("object"===E(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function _(e){return _=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},_(e)}var x={entering:{opacity:1},entered:{opacity:1},exiting:{opacity:0},exited:{opacity:0}},R=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&I(e,t)}(a,e);var t,n,o,i=T(a);function a(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),(t=i.call(this,e)).state={},t}return t=a,(n=[{key:"grayMaskStyle",value:function(){return{display:this.props.visible?"block":"none",position:"fixed",top:0,bottom:0,left:0,right:0,background:"rgba(0,0,0,0.5)",zIndex:20}}},{key:"imageStyle",value:function(){return{position:"fixed",top:"10%",height:"80%",left:"50%",transform:"translateX(-50%)",background:"rgba(0,0,0,0.5)",zIndex:30}}},{key:"render",value:function(){var e=this;return r.createElement(j.ZP,{in:this.props.visible,timeout:500},(function(t){return r.createElement("div",{style:D({opacity:0,transition:"opacity 500ms"},x[t])},r.createElement("img",{src:"uploads/"+e.props.image.imageFile,alt:e.props.image.name,style:e.imageStyle()}),r.createElement("div",{className:"gray-mask",style:e.grayMaskStyle(),onClick:function(){return e.props.setVisibility(!1)}}))}))}}])&&k(t.prototype,n),o&&k(t,o),a}(r.Component);function H(e){return H="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},H(e)}function M(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function A(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?M(Object(n),!0).forEach((function(t){B(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):M(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function B(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function N(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function F(e,t){return F=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},F(e,t)}function L(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=G(e);if(t){var o=G(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return z(this,n)}}function z(e,t){if(t&&("object"===H(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Z(e)}function Z(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function G(e){return G=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},G(e)}function V(e,t){return void 0===e?t:e}R.defaultProps={image:{src:"",name:""}};var U=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&F(e,t)}(a,e);var t,n,o,i=L(a);function a(e){var t;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a);var n={content:"Contenu",autoHide:!0,autoHideTime:3e3,closeCross:!1,position:"center",thumbnailType:"neutral",detailsButton:!1,width:"auto",computedStyle:{bottom:"-100px"},showDetails:function(){console.warn("No function was provided to Thumbnail 'showDetails' prop")}};return(t=i.call(this,e)).state=A({setParams:n},n),t.hideThumbnail=t.hideThumbnail.bind(Z(t)),t.computedClass=t.computedClass.bind(Z(t)),t}return t=a,o=[{key:"set",value:function(e){var t=A(A({},this.state.setParams),e);this.setState({setParams:t})}},{key:"message",value:function(e){var t=this;e=V(e,{}),setTimeout((function(){for(var n in t.state.setParams)e[n]=V(e[n],t.state.setParams[n]);t.setState(A({},e),(function(){a.showThumbnail()}))}),100)}},{key:"showThumbnail",value:function(){var e=this;this.setState({computedStyle:{bottom:"3vh",opacity:"100"}},(function(){e.state.autoHide&&setTimeout((function(){e.hideThumbnail()}),e.state.autoHideTime)}))}}],(n=[{key:"componentDidMount",value:function(){a.showThumbnail=a.showThumbnail.bind(this),a.message=a.message.bind(this),a.set=a.set.bind(this)}},{key:"hideThumbnail",value:function(){this.setState({computedStyle:{bottom:"-100px",opacity:"0"}})}},{key:"computedClass",value:function(){return"composant-Thumbnail "+this.state.position+" "+this.state.thumbnailType.toLowerCase()}},{key:"render",value:function(){return r.createElement("div",null,r.createElement("div",{className:this.computedClass(),style:this.state.computedStyle},r.createElement("div",{className:"texte-Thumbnail"},this.state.content),this.state.closeCross||!this.state.autoHide?r.createElement("div",{"v-if":"closeCross",className:"frame-croix clickable",title:"fermer",onClick:this.hideThumbnail},"✖️"):"",this.state.detailsButton?r.createElement("div",{className:"get-details clickable",title:"détails",onClick:this.state.showDetails},"ℹ️"):""))}}])&&N(t.prototype,n),o&&N(t,o),a}(r.Component);U.defaultProps={content:"Contenu",autoHide:!0,autoHideTime:3e3,closeCross:!0,position:"center",thumbnailType:"neutral",detailsButton:!1,width:"auto"};function W(e){return W="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},W(e)}function X(e){return function(e){if(Array.isArray(e))return $(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return $(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return $(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function $(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function q(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function J(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?q(Object(n),!0).forEach((function(t){K(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):q(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function K(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Q(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Y(e,t){return Y=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},Y(e,t)}function ee(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=re(e);if(t){var o=re(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return te(this,n)}}function te(e,t){if(t&&("object"===W(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return ne(e)}function ne(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function re(e){return re=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},re(e)}var oe=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Y(e,t)}(f,e);var t,n,o,i=ee(f);function f(e){var t;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,f);var n=(t=i.call(this,e)).buildDisplayList(e.listeImages);return t.state={imageAVisualiser:void 0,afficherImage:!1,listeImages:e.listeImages,draggedPosition:void 0,listeImagesTriee:n,modeEdition:!1},t.setDraggedPosition=t.setDraggedPosition.bind(ne(t)),t.moveImage=t.moveImage.bind(ne(t)),t.listOrEmptyCard=t.listOrEmptyCard.bind(ne(t)),t.saveDisposition=t.saveDisposition.bind(ne(t)),t.setAfficherImage=t.setAfficherImage.bind(ne(t)),t.switchEditMode=t.switchEditMode.bind(ne(t)),t.discardDisposition=t.discardDisposition.bind(ne(t)),t}return t=f,(n=[{key:"buildDisplayList",value:function(e){var t=[];return e.forEach((function(e){null==t[e.sectionId]&&(t[e.sectionId]=[],t[e.sectionId][0]=[],t[e.sectionId][1]=[],t[e.sectionId][2]=[]),t[e.sectionId][e.col][e.row]=e})),Object.keys(this.props.sectionMapNameId).forEach((function(e){null==t[e]&&(t[e]=[],t[e][0]=[],t[e][1]=[],t[e][2]=[])})),t}},{key:"setDraggedPositionOLD",value:function(e){this.setState(J(J({},this.state),{},{draggedPosition:e}))}},{key:"setDraggedPosition",value:function(e){this.setState({draggedImage:e})}},{key:"moveImage",value:function(e){var t=this.state.draggedImage;if(e.imageId!=t.imageId){var n=X(this.state.listeImages);t.sectionId=e.sectionId,t.row=e.row,t.col=e.col,e.row++;var r=this.state.listeImages.findIndex((function(e){return e.imageId===t.imageId})),o=this.state.listeImages.findIndex((function(t){return t.imageId===e.imageId}));n[r]=t,e.isEmpty||(n[o]=e);var i=this.buildDisplayList(n);this.setState({listeImages:n,listeImagesTriee:i})}}},{key:"moveImageOLD",value:function(e){var t,n=this.state.draggedPosition.section,r=this.state.draggedPosition.column,o=this.state.draggedPosition.row,i=e.section,a=e.column,c=e.row;if(e!==this.state.draggedPosition){var s,u=this.state.listeImagesTriee[n],l=this.state.listeImagesTriee[i],f=u[r].splice(o,1)[0];i!=n&&(f.category=i),l[a].splice(c,0,f),K(t={},n,u),K(t,i,l),s=t;var p=J(J({},this.state.listeImagesTriee),s);this.setState(J(J({},this.state),{},{listeImagesTriee:p}))}}},{key:"listOrEmptyCard",value:function(e){var t=this;return e.map((function(e,n){return r.createElement(w,{key:e.id,image:e,moveImage:t.moveImage,modeEdition:t.state.modeEdition,setDraggedPosition:t.setDraggedPosition,displayImage:function(e){t.setState({imageAVisualiser:e,afficherImage:!0})}})}))}},{key:"saveDisposition",value:function(){var e=this;a()({method:"POST",url:"/api",data:{type:"frontDispo",disposition:this.state.listeImagesTriee}}).then((function(t){console.log("Category post / success : ",t.data),U.message({content:"Configuration sauvegardée",thumbnailType:"success"}),e.switchEditMode()})).catch((function(e){console.log(e),U.message({content:"Erreur lors de l'enregistrement",thumbnailType:"error"})}))}},{key:"discardDisposition",value:function(){this.switchEditMode()}},{key:"setAfficherImage",value:function(e){this.setState({afficherImage:e})}},{key:"switchEditMode",value:function(){this.setState({modeEdition:!this.state.modeEdition})}},{key:"sectionName",value:function(e){return this.props.sectionMapNameId[e]}},{key:"render",value:function(){var e=this,t=function(e){return{position:"fixed",right:"annuler"==e?"1%":"12%",width:"edition"!=e?160:"",bottom:"10%",zIndex:20}};return r.createElement(r.Fragment,null,this.state.listeImagesTriee.map((function(t,n){return null==t?"":r.createElement("div",{className:"breadcrumb",key:n},r.createElement("h3",null,e.sectionName(n)),";",r.createElement("div",{className:"section row",style:{width:"100%"}},t.map((function(t,o){return r.createElement("div",{className:"col-sm",style:{display:"flex",flexDirection:"column"},key:"column-"+o},e.listOrEmptyCard(t),r.createElement(w,{key:"empty-column-"+o,image:{isEmpty:!0,col:o,row:t.length,sectionId:n},moveImage:e.moveImage}))}))))})),this.state.modeEdition?r.createElement("div",null,r.createElement(c.Z,{variant:"extended",style:t("valider"),color:"primary",onClick:this.saveDisposition},r.createElement(s.Z,{sx:{mr:1}}),"Enregistrer"),r.createElement(c.Z,{variant:"extended",style:t("annuler"),color:"secondary",onClick:this.discardDisposition},r.createElement(u.Z,{sx:{mr:1}}),"Annuler")):r.createElement("div",null,r.createElement(c.Z,{variant:"extended",style:t("edition"),color:"primary",onClick:this.switchEditMode},r.createElement(l.Z,{sx:{mr:1}}),"Mode Edition")),r.createElement(R,{image:this.state.imageAVisualiser,visible:this.state.afficherImage,setVisibility:this.setAfficherImage}),r.createElement(U,null))}}])&&Q(t.prototype,n),o&&Q(t,o),f}(r.Component),ie=window.symfonyDataBinding,ae=ie.reactRoute;const ce=function(){return r.createElement(r.Fragment,null,"book"==ae?r.createElement(oe,ie.data):"","contact"==ae?r.createElement("h3",null,"Contact"):"")};o.render(r.createElement(ce,null),document.getElementById("root"))}},e=>{e.O(0,[810],(()=>{return t=9486,e(e.s=t);var t}));e.O()}]);